{"version":3,"file":"number-field.entry.js","sources":["src/components/yaseer-form/components/number-field/number-field.css?tag=number-field","src/components/yaseer-form/components/number-field/number-field.tsx"],"sourcesContent":["","import { Component, EventEmitter, Prop, Event, h, State } from '@stencil/core';\nimport { iFormField } from '../../models/form-field.model';\n\n@Component({\n  tag: 'number-field',\n  styleUrl: 'number-field.css',\n  shadow: false,\n})\nexport class NumberField {\n  @Prop({ mutable: false }) field: iFormField;\n  // @Prop() value: any\n  @Prop() isInvalid: boolean;\n  @Prop() isDisabled: boolean;\n  @Prop() isHidden: boolean;\n\n  @State() value: number;\n  @State() isTouched: boolean = false;\n\n  @Event({ bubbles: true, composed: true }) valueChanged: EventEmitter<{ key: string; value: any }>;\n  @Event({ bubbles: true, composed: true }) fieldBlurred: EventEmitter<{ key: string; }>;\n\n  private onValueChange(e: Event) {\n    const value = (e.target as HTMLInputElement).value;\n    this.value = Number(value);\n    this.valueChanged.emit({ key: this.field.key, value: Number(value) });\n  }\n\n  private handleBlur() {\n    this.isTouched = true;\n    this.fieldBlurred.emit({ key: this.field.key });\n  }\n\n  onDecrease() {\n    this.value = Number(this.field.value || 0) > 0 ? Number(this.field.value) - 1 : 0;\n    // this.valueChanged.emit({ key: this.field.key, value: Number(this.field.value || 0) > 0 ? Number(this.field.value) - 1 : 0 });\n    this.valueChanged.emit({ key: this.field.key, value: this.value });\n    this.handleBlur();\n  }\n\n  onIncrease() {\n    this.value = Number(this.field.value || 0) + 1;\n    // this.valueChanged.emit({ key: this.field.key, value: Number(this.field.value || 0) + 1 });\n    this.valueChanged.emit({ key: this.field.key, value: this.value });\n    this.handleBlur();\n  }\n\n  render() {\n    if (this.isHidden) {\n      return null;\n    }\n\n    return (\n      <section class=\"number-field-section\">\n\n        <div class={`${this.isInvalid ? 'invalid' : 'valid'} ${this.isTouched ? 'touched' : 'untouched'}`}>\n          <div>\n            <button\n              type='button'\n              onClick={this.onDecrease.bind(this)}\n              disabled={this.isDisabled}>\n              -\n            </button>\n          </div>\n\n          <input\n            id={this.field.key}\n            type=\"number\"\n            autoComplete=\"off\"\n            disabled={this.isDisabled}\n            placeholder={this.field.placeholder || ''}\n            value={!isNaN(this.value) ? Number(this.value) : 0}\n            class={`${this.isInvalid ? 'invalid' : 'valid'} ${this.isTouched ? 'touched' : 'untouched'}`}\n            onInput={(e) => this.onValueChange(e)}\n            onBlur={this.handleBlur.bind(this)}\n          />\n\n          <div>\n            <button\n              type='button'\n              disabled={this.isDisabled}\n              onClick={this.onIncrease.bind(this)}>+</button>\n          </div>\n\n        </div>\n\n        {this.field.label && (\n          <label\n            htmlFor={this.field.key}\n            innerHTML={this.field.label.replace(/\\[\\--(.*?)\\--\\]/g, ' <span class=\"file-size-limit\">($1)</span>')}>\n          </label>\n        )}\n\n        <slot></slot>\n      </section>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}