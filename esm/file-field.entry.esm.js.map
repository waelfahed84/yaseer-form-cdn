{"version":3,"file":"file-field.entry.esm.js","sources":["src/components/yaseer-form/components/file-field/file-field.css?tag=file-field","src/components/yaseer-form/components/file-field/file-field.tsx"],"sourcesContent":["/* input[type=\"file\"]{\n  padding: var(--form-field-file-control-padding, 8px 8px);\n} */\n\n/* input[type=\"file\"]::file-selector-button {\n  width:var(--form-field-file-control-selector-width, 25%);\n  top: var(--form-field-file-control-selector-top, 50%);\n  transform: var(--form-field-file-control-selector-transform, translateY(-50%));\n  height: var(--form-field-file-control-selector-height, 32px);\n  background-color: var(--form-field-file-control-selector-bg-color, purple);\n  color: var(--form-field-file-control-selector-color, white);\n  border-top: var(--form-field-file-control-selector-border-top, none);\n  border-right: var(--form-field-file-control-selector-border-right, none);\n  border-bottom: var(--form-field-file-control-selector-border-bottom, none);\n  border-left: var(--form-field-file-control-selector-border-left, none);\n  border-radius: var(--form-field-file-control-selector-border-radius, 0.375rem);\n  font-size: var(--form-field-file-control-selector-font-size, 14px);\n  padding: var(--form-field-file-control-selector-padding, 4px 12px);\n  margin-inline-end: var(--form-field-file-control-selector-margin-end, 8px);\n  position: relative;\n  cursor: pointer;\n  transition: all ease-out 0.4s\n} */\n\n/* input[type=\"file\"]::file-selector-button:hover {\n  background-color: var(--form-field-file-control-selector-hover-bg-color, rgb(96, 0, 96));\n} */\n","import { Component, EventEmitter, Prop, Event, h, State } from '@stencil/core';\nimport { iFormField } from '../../models/form-field.model';\n\n@Component({\n  tag: 'file-field',\n  styleUrl: 'file-field.css',\n  shadow: false,\n  scoped: false,\n})\nexport class FileField {\n  @Prop({ mutable: false }) field: iFormField;\n  @Prop() isInvalid: boolean;\n  @Prop() isDisabled: boolean;\n  @Prop() isHidden: boolean;\n\n  @State() isTouched: boolean = false;\n  \n  @Event({ bubbles: true, composed: true }) valueChanged: EventEmitter<{ key: string; value: any }>;\n  @Event({ bubbles: true, composed: true }) fieldBlurred: EventEmitter<{ key: string; }>;\n\n  private onValueChange(e: Event) {\n    const files = (e.target as HTMLInputElement).files;\n    const file = files && files.length > 0 ? files[0] : null;\n\n    this.valueChanged.emit({ key: this.field.key, value: file });\n  }\n\n  private handleBlur() {\n    this.isTouched = true;\n    this.fieldBlurred.emit({ key: this.field.key });\n  }\n\n  render() {  \n    if(this.isHidden) {\n      return null;\n    }\n     \n    return (\n      <section>\n        <input\n          id={this.field.key}\n          type=\"file\"\n          disabled={this.isDisabled}\n          accept={this.field.acceptedFiles?.join(',') || '*/*'}\n          class={`${this.isInvalid ? 'invalid' : ''} ${this.isTouched ? 'touched' : 'untouched'}`}\n          onChange={(e) => this.onValueChange(e)}\n          onBlur={this.handleBlur.bind(this)}\n        />\n\n        {this.field.label && (\n          <label\n            htmlFor={this.field.key}\n            innerHTML={this.field.label.replace(/\\[\\--(.*?)\\--\\]/g, ' <span class=\"file-size-limit\">($1)</span>')}>\n          </label>\n        )}\n\n        <slot></slot>\n      </section>\n    );\n  }\n}\n"],"names":[],"mappings":";;AAAA,MAAM,YAAY,GAAG,EAAE;;MCSV,SAAS,GAAA,MAAA;;;;;;AACM,IAAA,KAAK;AACvB,IAAA,SAAS;AACT,IAAA,UAAU;AACV,IAAA,QAAQ;IAEP,SAAS,GAAY,KAAK;AAEO,IAAA,YAAY;AACZ,IAAA,YAAY;AAE9C,IAAA,aAAa,CAAC,CAAQ,EAAA;AAC5B,QAAA,MAAM,KAAK,GAAI,CAAC,CAAC,MAA2B,CAAC,KAAK;QAClD,MAAM,IAAI,GAAG,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;AAExD,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;;IAGtD,UAAU,GAAA;AAChB,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI;AACrB,QAAA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;;IAGjD,MAAM,GAAA;AACJ,QAAA,IAAG,IAAI,CAAC,QAAQ,EAAE;AAChB,YAAA,OAAO,IAAI;;AAGb,QAAA,QACE,CAAA,CAAA,SAAA,EAAA,IAAA,EACE,CAAA,CAAA,OAAA,EAAA,EACE,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EAClB,IAAI,EAAC,MAAM,EACX,QAAQ,EAAE,IAAI,CAAC,UAAU,EACzB,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,EACpD,KAAK,EAAE,CAAG,EAAA,IAAI,CAAC,SAAS,GAAG,SAAS,GAAG,EAAE,CAAA,CAAA,EAAI,IAAI,CAAC,SAAS,GAAG,SAAS,GAAG,WAAW,CAAE,CAAA,EACvF,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EACtC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAClC,CAAA,EAED,IAAI,CAAC,KAAK,CAAC,KAAK,KACf,CACE,CAAA,OAAA,EAAA,EAAA,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,EACvB,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,kBAAkB,EAAE,4CAA4C,CAAC,GAC/F,CACT,EAED,CAAa,CAAA,MAAA,EAAA,IAAA,CAAA,CACL;;;;;;;"}