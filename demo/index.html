<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.jsdelivr.net/gh/waelfahed84/yaseer-form-cdn@v1.1.1/dist/sdk.min.js"></script>

    <style>
        yaseer-form {
            --form-legend-padding-top: 1rem;
            --form-legend-padding-bottom: 1rem;
            --form-legend-border-top: solid 2px #e3e2f0;
            --form-legend-border-bottom: none;
            --form-legend-align-items: flex-start;
            --form-legend-title-font-family: system-ui, sans-serif;
            --form-legend-title-font-size: 1.75rem;
            --form-legend-title-color: #3a3761;
            --form-legend-title-font-weight: 100;
            --form-legend-description-font-size: 0.875rem;
            --form-legend-description-font-weight: 400;
            --form-legend-description-color: #8e8ac4;
            --form-legend-description-font-family: system-ui, sans-serif;
            --form-field-control-bg-color: #ececec;
            --form-field-control-border-color: solid 1px transparent;
            --form-field-control-label-font-family: system-ui, sans-serif;
            --form-field-control-label-font-size: 0.875rem;
            --form-field-control-label-font-weight: 500;
            --form-field-toggle-content-paragraph-font-family: system-ui, sans-serif;
            --form-field-toggle-content-paragraph-font-size: 0.75rem;
            --form-field-checkbox-content-paragraph-font-family: system-ui, sans-serif;
            --form-field-checkbox-content-paragraph-font-size: 0.875rem;
        }

        yaseer-form::part(personal-info-form-field) {
            --form-legend-border-top: none;
        }

        yaseer-form::part(email-form-field) {
            --form-field-control-bg-color: rgb(255, 234, 196);
            --form-field-control-border-top-left-radius: 24px;
            --form-field-control-border-top-right-radius: 24px;
            --form-field-control-border-bottom-left-radius: 24px;
            --form-field-control-border-bottom-right-radius: 24px;

        }
    </style>
</head>

<body>

    <div style="width: 640px; height: auto; border: solid 1px orange; padding: 10px; margin: 80px auto"
        id="form-container"></div>

    <section>
        <div class="form-cta-container">
            <button type="button" onclick="onSubmitForm()">Click me</button>
        </div>
    </section>

    <script>
        const formFields = [
            {
                sequence: 1,
                size: 4,
                key: "personal-info",
                fieldType: 'legend',
                label: "Personal Information",
                placeholder: 'Please fill your personal information below',
            },
            {
                sequence: 2,
                size: 2,
                key: "first-name",
                label: "First Name",
                placeholder: "First name",
                fieldType: 'input',
                value: '',
                validators: [{ 'required': true }, { 'isAlphabetic': true }, { 'minLength': 2 }, { 'maxLength': 30 }],
            },
            {
                sequence: 2,
                size: 2,
                key: "last-name",
                label: "Last Name",
                placeholder: "Last name",
                fieldType: 'input',
                value: '',
                validators: [{ 'required': true }, { 'isAlphabetic': true }, { 'minLength': 2 }, { 'maxLength': 30 }],
                shouldEnable: {
                    logic: 'AND',
                    conditions: [
                        {
                            fieldKey: 'first-name',
                            operator: 'isValid',
                        }
                    ]
                },
            },
            {
                sequence: 3,
                size: 2,
                key: "mobile-number",
                label: "Mobile Number",
                placeholder: "Mobile number",
                fieldType: 'phone',
                value: '',
                defaultCountryCode: '+966',
                validators: [{ 'required': true }, { 'isPhoneNumber': true }],
            },
            {
                sequence: 4,
                size: 2,
                key: "email",
                label: "Email",
                placeholder: "Email",
                fieldType: 'input',
                value: '',
                validators: [{ 'required': true }, { 'isEmail': true }],
            },
            {
                sequence: 5,
                size: 4,
                key: "Residency-info",
                fieldType: 'legend',
                label: "Residency",
                placeholder: '',
            },
            {
                sequence: 6,
                size: 2,
                key: "nationality",
                label: "Nationality",
                placeholder: "Select Nationality",
                fieldType: 'typeahead',
                options: [
                    { label: 'Jordanian', value: 'JO' },
                    { label: 'Indian', value: 'IN' },
                    { label: 'Palestinian', value: 'PS' },
                    { label: 'Egyptian', value: 'EG' },
                    { label: 'Iraqi', value: 'IQ' },
                    { label: 'Syrian', value: 'SY' }],
                optionLabel: 'label',
                optionValue: 'value',
                value: null,
                validators: [{ 'required': true }],
            },
            {
                sequence: 7,
                size: 2,
                key: "residency-status",
                label: "Residency Status",
                placeholder: "Select Residency Status",
                fieldType: 'select',
                options: [{ title: 'Resident', optionValue: 'resident' }, { title: 'non-Resident', optionValue: 'non-resident' }],
                optionLabel: 'title',
                optionValue: 'optionValue',
                value: null,
                validators: [{ 'required': true }],
            },
            {
                sequence: 8,
                size: 4,
                key: "subscription-info",
                fieldType: 'legend',
                label: "Subscription",
                placeholder: '',
            },
            {
                sequence: 9,
                size: 4,
                key: "is-subscribed",
                label: "Subscription Status",
                placeholder: "Select Subscription Status",
                fieldType: 'radio',
                options: [
                    { label: 'I am Already Subscribed', value: 'subscribed' },
                    { label: 'Not Subscribed', value: 'not-subscribed', desc: 'Extra step required' }
                ],
                optionLabel: 'label',
                optionValue: 'value',
                optionDescription: 'desc',
                optionSize: 2,
                value: 'subscribed',
                validators: [{ 'required': true }],
            },
            {
                sequence: 10,
                size: 4,
                key: "description",
                fieldType: 'textarea',
                label: "Description",
                placeholder: 'Write more about you',
                value: null,
                validators: [{ 'required': true }, { 'minLength': 5 }, { 'maxLength': 200 }],
                shouldDisplay: {
                    logic: 'AND',
                    conditions: [
                        {
                            fieldKey: 'is-subscribed',
                            operator: 'eq',
                            value: 'not-subscribed'
                        }
                    ]
                },
            },
            {
                sequence: 11,
                size: 4,
                key: "terms-conditions",
                fieldType: 'legend',
                label: "Terms & Conditions",
                placeholder: '',
            },
            {
                sequence: 12,
                size: 4,
                key: "terms-accepted",
                label: "Our Terms & Conditions",
                placeholder: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.<br/><br/>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum",
                fieldType: 'checkbox',
                value: '',
                validators: [{ 'mustBeTruthy': true }],
            },
            {
                sequence: 13,
                size: 4,
                key: "file",
                fieldType: 'file',
                label: "Upload your document",
                placeholder: 'Choose file',
                acceptedFiles: ['image/png', 'image/jpg', 'application/pdf'],
                validators: [{ 'maxSize': 1 }]
            },
        ];

        const form = new YaseerForm({
            formId: 'abcd',
            selector: '#form-container',
            slotSelector: '.form-cta-container',
            language: 'en', // to sho validation messages in English
            fields: formFields,
            on_submission_success: (data) => {
                console.log('Form submitted successfully:', data);
            },
            on_submission_failure: (error) => {
                console.error('Form submission failed:', error);
            }
        });

        form.addEventListener('formUpdated', function ({ detail }) {
          console.log(detail.isValid ? 'Form is valid' : 'Form is invalid');
        });

        function onSubmitForm() {
            if (form) {
                form.submitForm();
            }
        }
    </script>

</body>

</html>